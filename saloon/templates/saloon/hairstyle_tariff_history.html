{% extends "base.html" %}

{% block title %}Historique des Tarifs - {{ hairstyle.name }}{% endblock %}

{% block header %}Historique des Tarifs de {{ hairstyle.name }}{% endblock %}

{% block content %}
<div class="flex">
    <!-- Détails de la coiffure -->
    <div class="w-1/3 bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg mr-4">
        <div class="px-4 py-5 sm:px-6">
            <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-100">{{ hairstyle.name }}</h3>
        </div>
        <div class="px-4 py-3">
            <p class="text-gray-600 dark:text-gray-400">Tarif actuel: {{ hairstyle.current_tariff }} {{ hairstyle.currency.code }}</p>
        </div>
    </div>

    <!-- Historique des tarifs -->
    <div class="w-2/3 bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg">
        <div class="px-4 py-5 sm:px-6 flex justify-between items-center">
            <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-100">Historique des Tarifs</h3>
            <button id="add-tariff" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">
                Ajouter un Tarif
            </button>
        </div>
        <ul class="divide-y divide-gray-200 dark:divide-gray-700">
            {% for tariff in tariff_history %}
                <li class="px-4 py-3 flex justify-between items-center">
                    <span>{{ tariff.tariff }} {{ hairstyle.currency.code }}</span>
                    <span class="text-gray-500 dark:text-gray-400">{{ tariff.effective_date|date:"d/m/Y H:i" }}</span>
                </li>
                {% empty %}
                <li class="px-4 py-3 text-gray-500 dark:text-gray-400">Aucun historique de tarif trouvé.</li>
            {% endfor %}
        </ul>
    </div>
</div>

<script>
    // Ajoutez ici le JavaScript pour gérer l'ajout d'un nouveau tarif
    document.getElementById('add-tariff').addEventListener('click', function() {
        // Ouvrir un modal ou rediriger vers un formulaire d'ajout de tarif
    });
</script>
{% endblock %}